# MySQL values for swiggy_dog_fooding project
# Based on Bitnami MySQL chart configuration

# Global configuration
global:
  storageClass: "niq-sc"
  imageRegistry: "nebulaiqdemo.azurecr.io"

# Primary MySQL configuration
primary:
  enabled: true
  persistence:
    enabled: true
    storageClass: "niq-sc"
    size: 8Gi
    accessModes:
      - ReadWriteOnce
  
  # MySQL configuration
  auth:
    rootPassword: "swiggy_root_password_123"
    database: "swiggy_dog_fooding"
    username: "swiggy_user"
    password: "swiggy_user_password_123"
  
  # Service configuration
  service:
    type: ClusterIP
    port: 3306
  
  # Resources
  resources:
    limits:
      cpu: 1000m
      memory: 1Gi
    requests:
      cpu: 500m
      memory: 512Mi
  
  # Security context
  securityContext:
    enabled: true
    runAsUser: 1001
    fsGroup: 1001
  
  # Container security context
  containerSecurityContext:
    enabled: true
    runAsNonRoot: true
    runAsUser: 1001

# Secondary/Read replica configuration (disabled by default)
secondary:
  enabled: false

# Metrics configuration
metrics:
  enabled: true
  service:
    type: ClusterIP
    port: 9104
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 50m
      memory: 64Mi

# Backup configuration
backup:
  enabled: false

# Network policy
networkPolicy:
  enabled: false

# Service account
serviceAccount:
  create: true
  name: "mysql-service-account"

# Pod security context
podSecurityContext:
  enabled: true
  fsGroup: 1001

# Pod annotations
podAnnotations:
  project: "swiggy_dog_fooding"
  environment: "dog-fooding"

# Pod labels
podLabels:
  app: "mysql"
  project: "swiggy_dog_fooding"
  environment: "dog-fooding"

# Node selector (optional)
nodeSelector: {}

# Tolerations (optional)
tolerations: []

# Affinity (optional)
affinity: {} 